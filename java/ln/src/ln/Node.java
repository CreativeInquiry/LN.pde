// Generated by Haxe 4.1.3
package ln;

import haxe.root.*;

@SuppressWarnings(value={"rawtypes", "unchecked"})
public class Node extends haxe.lang.HxObject
{
	public Node(haxe.lang.EmptyObject empty)
	{
	}
	
	
	public Node(java.lang.Object _Axis, java.lang.Object _Point, haxe.root.Array<ln.Shape> _Shapes, ln.Node _Left, ln.Node _Right)
	{
		//line 13 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		ln.Node.__hx_ctor_ln_Node(this, _Axis, _Point, _Shapes, _Left, _Right);
	}
	
	
	protected static void __hx_ctor_ln_Node(ln.Node __hx_this, java.lang.Object _Axis, java.lang.Object _Point, haxe.root.Array<ln.Shape> _Shapes, ln.Node _Left, ln.Node _Right)
	{
		//line 12 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		__hx_this.Right = null;
		//line 11 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		__hx_this.Left = null;
		//line 10 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		__hx_this.Shapes = new haxe.root.Array<ln.Shape>(new ln.Shape[]{});
		//line 9 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		__hx_this.Point = 0.0;
		//line 13 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		{
			//line 13 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			double _Point1 = ( (haxe.lang.Runtime.eq(_Point, null)) ? (0.0) : (((double) (haxe.lang.Runtime.toDouble(_Point)) )) );
			//line 14 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			__hx_this.Axis = ((int) (haxe.lang.Runtime.toInt(_Axis)) );
			//line 15 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			__hx_this.Point = _Point1;
			//line 16 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			__hx_this.Shapes = _Shapes;
			//line 17 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			__hx_this.Left = _Left;
			//line 18 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			__hx_this.Right = _Right;
		}
		
	}
	
	
	public int Axis;
	
	public double Point;
	
	public haxe.root.Array<ln.Shape> Shapes;
	
	public ln.Node Left;
	
	public ln.Node Right;
	
	public ln.Node _clone()
	{
		//line 21 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		return new ln.Node(this.Axis, this.Point, this.Shapes, this.Left, this.Right);
	}
	
	
	public ln.Hit Intersect(ln.Ray r, double tmin, double tmax)
	{
		//line 24 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		ln.Node node = this._clone();
		//line 25 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		double tsplit = 0.0;
		//line 26 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		boolean leftFirst = false;
		//line 27 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		switch (node.Axis)
		{
			case 0:
			{
				//line 29 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				return node.IntersectShapes(r);
			}
			
			
			case 1:
			{
				//line 31 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				tsplit = ( (( node.Point - r.Origin.X )) / r.Direction.X );
				//line 32 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				leftFirst = ( ( r.Origin.X < node.Point ) || ( ( r.Origin.X == node.Point ) && ( r.Direction.X <= 0 ) ) );
				//line 30 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				break;
			}
			
			
			case 2:
			{
				//line 34 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				tsplit = ( (( node.Point - r.Origin.Y )) / r.Direction.Y );
				//line 35 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				leftFirst = ( ( r.Origin.Y < node.Point ) || ( ( r.Origin.Y == node.Point ) && ( r.Direction.Y <= 0 ) ) );
				//line 33 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				break;
			}
			
			
			case 3:
			{
				//line 37 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				tsplit = ( (( node.Point - r.Origin.Z )) / r.Direction.Z );
				//line 38 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				leftFirst = ( ( r.Origin.Z < node.Point ) || ( ( r.Origin.Z == node.Point ) && ( r.Direction.Z <= 0 ) ) );
				//line 36 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				break;
			}
			
			
		}
		
		//line 40 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		ln.Node first = null;
		//line 41 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		ln.Node second = null;
		//line 42 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		if (leftFirst) 
		{
			//line 43 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			first = node.Left;
			//line 44 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			second = node.Right;
		}
		else
		{
			//line 47 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			first = node.Right;
			//line 48 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			second = node.Left;
		}
		
		//line 50 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		if (( ( tsplit > tmax ) || ( tsplit <= 0 ) )) 
		{
			//line 51 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			return first.Intersect(r, tmin, tmax);
		}
		else
		{
			//line 53 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			if (( tsplit < tmin )) 
			{
				//line 54 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				return second.Intersect(r, tmin, tmax);
			}
			else
			{
				//line 57 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				ln.Hit h1 = first.Intersect(r, tmin, tsplit);
				//line 58 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				if (( h1.T <= tsplit )) 
				{
					//line 59 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
					return h1;
				}
				
				//line 61 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				ln.Hit h2 = second.Intersect(r, tsplit, java.lang.Math.min(tmax, h1.T));
				//line 62 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				if (( h1.T <= h2.T )) 
				{
					//line 63 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
					return h1;
				}
				else
				{
					//line 66 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
					return h2;
				}
				
			}
			
		}
		
	}
	
	
	public ln.Hit IntersectShapes(ln.Ray r)
	{
		//line 71 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		ln.Node node = this._clone();
		//line 72 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		ln.Hit hit = ln.Ln.NoHit;
		//line 73 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		haxe.root.Array<ln.Shape> _iuvqe = node.Shapes;
		//line 74 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		{
			//line 74 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			int _g = 0;
			//line 74 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			int _g1 = _iuvqe.length;
			//line 74 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			while (( _g < _g1 ))
			{
				//line 74 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				int _1 = _g++;
				//line 75 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				ln.Shape shape = _iuvqe.__get(_1);
				//line 76 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				ln.Hit h = shape.Intersect(r);
				//line 77 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				if (( h.T < hit.T )) 
				{
					//line 78 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
					hit = h;
				}
				
			}
			
		}
		
		//line 81 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		return hit;
	}
	
	
	public int PartitionScore(int axis, double point)
	{
		//line 84 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		ln.Node node = this._clone();
		//line 85 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		int left = 0;
		//line 86 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		int right = 0;
		//line 87 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		haxe.root.Array<ln.Shape> _nvzky = node.Shapes;
		//line 88 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		{
			//line 88 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			int _g = 0;
			//line 88 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			int _g1 = _nvzky.length;
			//line 88 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			while (( _g < _g1 ))
			{
				//line 88 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				int _1 = _g++;
				//line 89 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				ln.Shape shape = _nvzky.__get(_1);
				//line 90 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				ln.Box box = shape.BoundingBox();
				//line 91 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				haxe.root.Array _ndsmo = box.Partition(axis, point);
				//line 92 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				boolean l = haxe.lang.Runtime.toBool(((java.lang.Boolean) (_ndsmo.__get(0)) ));
				//line 93 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				boolean r = haxe.lang.Runtime.toBool(((java.lang.Boolean) (_ndsmo.__get(1)) ));
				//line 94 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				if (l) 
				{
					//line 95 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
					 ++ left;
				}
				
				//line 97 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				if (r) 
				{
					//line 98 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
					 ++ right;
				}
				
			}
			
		}
		
		//line 101 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		if (( left >= right )) 
		{
			//line 102 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			return left;
		}
		else
		{
			//line 105 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			return right;
		}
		
	}
	
	
	public haxe.root.Array Partition(int size, int axis, double point)
	{
		//line 109 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		ln.Node node = this._clone();
		//line 110 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		haxe.root.Array<ln.Shape> left = new haxe.root.Array<ln.Shape>(new ln.Shape[]{});
		//line 111 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		haxe.root.Array<ln.Shape> right = new haxe.root.Array<ln.Shape>(new ln.Shape[]{});
		//line 112 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		left = new haxe.root.Array<ln.Shape>(new ln.Shape[]{});
		//line 113 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		right = new haxe.root.Array<ln.Shape>(new ln.Shape[]{});
		//line 114 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		haxe.root.Array<ln.Shape> _zvmyf = node.Shapes;
		//line 115 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		{
			//line 115 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			int _g = 0;
			//line 115 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			int _g1 = _zvmyf.length;
			//line 115 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			while (( _g < _g1 ))
			{
				//line 115 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				int _1 = _g++;
				//line 116 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				ln.Shape shape = _zvmyf.__get(_1);
				//line 117 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				ln.Box box = shape.BoundingBox();
				//line 118 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				haxe.root.Array _kghax = box.Partition(axis, point);
				//line 119 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				boolean l = haxe.lang.Runtime.toBool(((java.lang.Boolean) (_kghax.__get(0)) ));
				//line 120 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				boolean r = haxe.lang.Runtime.toBool(((java.lang.Boolean) (_kghax.__get(1)) ));
				//line 121 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				if (l) 
				{
					//line 122 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
					left = left.concat(new haxe.root.Array<ln.Shape>(new ln.Shape[]{shape}));
				}
				
				//line 124 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				if (r) 
				{
					//line 125 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
					right = right.concat(new haxe.root.Array<ln.Shape>(new ln.Shape[]{shape}));
				}
				
			}
			
		}
		
		//line 128 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		haxe.root.Array _fzwts = new haxe.root.Array(new java.lang.Object[]{left, right});
		//line 129 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		return _fzwts;
	}
	
	
	public void Split(int depth)
	{
		//line 132 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		ln.Node node = this._clone();
		//line 133 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		if (( node.Shapes.length < 8 )) 
		{
			//line 134 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			return ;
		}
		
		//line 136 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		haxe.root.Array<java.lang.Object> xs = new haxe.root.Array<java.lang.Object>(new java.lang.Object[]{});
		//line 137 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		haxe.root.Array<java.lang.Object> ys = new haxe.root.Array<java.lang.Object>(new java.lang.Object[]{});
		//line 138 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		haxe.root.Array<java.lang.Object> zs = new haxe.root.Array<java.lang.Object>(new java.lang.Object[]{});
		//line 139 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		haxe.root.Array<ln.Shape> _hhmne = node.Shapes;
		//line 140 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		{
			//line 140 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			int _g = 0;
			//line 140 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			int _g1 = _hhmne.length;
			//line 140 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			while (( _g < _g1 ))
			{
				//line 140 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				int _1 = _g++;
				//line 141 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				ln.Shape shape = _hhmne.__get(_1);
				//line 142 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				ln.Box box = shape.BoundingBox();
				//line 143 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				xs = ((haxe.root.Array<java.lang.Object>) (((haxe.root.Array) (xs.concat(((haxe.root.Array<java.lang.Object>) (((haxe.root.Array) (new haxe.root.Array<java.lang.Object>(new java.lang.Object[]{((java.lang.Object) (box.Min.X) )})) )) ))) )) );
				//line 144 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				xs = ((haxe.root.Array<java.lang.Object>) (((haxe.root.Array) (xs.concat(((haxe.root.Array<java.lang.Object>) (((haxe.root.Array) (new haxe.root.Array<java.lang.Object>(new java.lang.Object[]{((java.lang.Object) (box.Max.X) )})) )) ))) )) );
				//line 145 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				ys = ((haxe.root.Array<java.lang.Object>) (((haxe.root.Array) (ys.concat(((haxe.root.Array<java.lang.Object>) (((haxe.root.Array) (new haxe.root.Array<java.lang.Object>(new java.lang.Object[]{((java.lang.Object) (box.Min.Y) )})) )) ))) )) );
				//line 146 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				ys = ((haxe.root.Array<java.lang.Object>) (((haxe.root.Array) (ys.concat(((haxe.root.Array<java.lang.Object>) (((haxe.root.Array) (new haxe.root.Array<java.lang.Object>(new java.lang.Object[]{((java.lang.Object) (box.Max.Y) )})) )) ))) )) );
				//line 147 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				zs = ((haxe.root.Array<java.lang.Object>) (((haxe.root.Array) (zs.concat(((haxe.root.Array<java.lang.Object>) (((haxe.root.Array) (new haxe.root.Array<java.lang.Object>(new java.lang.Object[]{((java.lang.Object) (box.Min.Z) )})) )) ))) )) );
				//line 148 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				zs = ((haxe.root.Array<java.lang.Object>) (((haxe.root.Array) (zs.concat(((haxe.root.Array<java.lang.Object>) (((haxe.root.Array) (new haxe.root.Array<java.lang.Object>(new java.lang.Object[]{((java.lang.Object) (box.Max.Z) )})) )) ))) )) );
			}
			
		}
		
		//line 150 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		xs.sort(( (( ln.Node_Split_150__Fun.__hx_current != null )) ? (ln.Node_Split_150__Fun.__hx_current) : (ln.Node_Split_150__Fun.__hx_current = ((ln.Node_Split_150__Fun) (new ln.Node_Split_150__Fun()) )) ));
		//line 151 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		ys.sort(( (( ln.Node_Split_151__Fun.__hx_current != null )) ? (ln.Node_Split_151__Fun.__hx_current) : (ln.Node_Split_151__Fun.__hx_current = ((ln.Node_Split_151__Fun) (new ln.Node_Split_151__Fun()) )) ));
		//line 152 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		zs.sort(( (( ln.Node_Split_152__Fun.__hx_current != null )) ? (ln.Node_Split_152__Fun.__hx_current) : (ln.Node_Split_152__Fun.__hx_current = ((ln.Node_Split_152__Fun) (new ln.Node_Split_152__Fun()) )) ));
		//line 153 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		double mx = ln.Ln.Median(xs);
		//line 154 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		double my = ln.Ln.Median(ys);
		//line 155 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		double mz = ln.Ln.Median(zs);
		//line 156 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		int best = ((int) (( node.Shapes.length * 0.85 )) );
		//line 157 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		int bestAxis = 0;
		//line 158 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		double bestPoint = 0.0;
		//line 159 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		int sx = node.PartitionScore(1, mx);
		//line 160 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		if (( sx < best )) 
		{
			//line 161 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			best = sx;
			//line 162 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			bestAxis = 1;
			//line 163 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			bestPoint = mx;
		}
		
		//line 165 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		int sy = node.PartitionScore(2, my);
		//line 166 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		if (( sy < best )) 
		{
			//line 167 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			best = sy;
			//line 168 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			bestAxis = 2;
			//line 169 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			bestPoint = my;
		}
		
		//line 171 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		int sz = node.PartitionScore(3, mz);
		//line 172 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		if (( sz < best )) 
		{
			//line 173 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			best = sz;
			//line 174 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			bestAxis = 3;
			//line 175 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			bestPoint = mz;
		}
		
		//line 177 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		if (( bestAxis == 0 )) 
		{
			//line 178 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			return ;
		}
		
		//line 180 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		haxe.root.Array _odxxe = node.Partition(best, bestAxis, bestPoint);
		//line 181 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		haxe.root.Array<ln.Shape> l = ((haxe.root.Array<ln.Shape>) (_odxxe.__get(0)) );
		//line 182 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		haxe.root.Array<ln.Shape> r = ((haxe.root.Array<ln.Shape>) (_odxxe.__get(1)) );
		//line 183 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		node.Axis = bestAxis;
		//line 184 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		node.Point = bestPoint;
		//line 185 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		node.Left = ln.Ln.NewNode(l);
		//line 186 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		node.Right = ln.Ln.NewNode(r);
		//line 187 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		node.Left.Split(( depth + 1 ));
		//line 188 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		node.Right.Split(( depth + 1 ));
		//line 189 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		node.Shapes = null;
	}
	
	
	@Override public double __hx_setField_f(java.lang.String field, double value, boolean handleProperties)
	{
		//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		{
			//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			boolean __temp_executeDef1 = true;
			//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			if (( field != null )) 
			{
				//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				switch (field.hashCode())
				{
					case 77292912:
					{
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						if (field.equals("Point")) 
						{
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							__temp_executeDef1 = false;
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							this.Point = ((double) (value) );
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							return value;
						}
						
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						break;
					}
					
					
					case 2055105:
					{
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						if (field.equals("Axis")) 
						{
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							__temp_executeDef1 = false;
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							this.Axis = ((int) (value) );
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							return value;
						}
						
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						break;
					}
					
					
				}
				
			}
			
			//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			if (__temp_executeDef1) 
			{
				//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				return super.__hx_setField_f(field, value, handleProperties);
			}
			else
			{
				//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				throw null;
			}
			
		}
		
	}
	
	
	@Override public java.lang.Object __hx_setField(java.lang.String field, java.lang.Object value, boolean handleProperties)
	{
		//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		{
			//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			boolean __temp_executeDef1 = true;
			//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			if (( field != null )) 
			{
				//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				switch (field.hashCode())
				{
					case 78959100:
					{
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						if (field.equals("Right")) 
						{
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							__temp_executeDef1 = false;
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							this.Right = ((ln.Node) (value) );
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							return value;
						}
						
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						break;
					}
					
					
					case 2055105:
					{
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						if (field.equals("Axis")) 
						{
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							__temp_executeDef1 = false;
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							this.Axis = ((int) (haxe.lang.Runtime.toInt(value)) );
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							return value;
						}
						
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						break;
					}
					
					
					case 2364455:
					{
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						if (field.equals("Left")) 
						{
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							__temp_executeDef1 = false;
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							this.Left = ((ln.Node) (value) );
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							return value;
						}
						
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						break;
					}
					
					
					case 77292912:
					{
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						if (field.equals("Point")) 
						{
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							__temp_executeDef1 = false;
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							this.Point = ((double) (haxe.lang.Runtime.toDouble(value)) );
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							return value;
						}
						
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						break;
					}
					
					
					case -1819700974:
					{
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						if (field.equals("Shapes")) 
						{
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							__temp_executeDef1 = false;
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							this.Shapes = ((haxe.root.Array<ln.Shape>) (value) );
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							return value;
						}
						
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						break;
					}
					
					
				}
				
			}
			
			//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			if (__temp_executeDef1) 
			{
				//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				return super.__hx_setField(field, value, handleProperties);
			}
			else
			{
				//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				throw null;
			}
			
		}
		
	}
	
	
	@Override public java.lang.Object __hx_getField(java.lang.String field, boolean throwErrors, boolean isCheck, boolean handleProperties)
	{
		//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		{
			//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			boolean __temp_executeDef1 = true;
			//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			if (( field != null )) 
			{
				//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				switch (field.hashCode())
				{
					case 80095994:
					{
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						if (field.equals("Split")) 
						{
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							__temp_executeDef1 = false;
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							return ((haxe.lang.Function) (new haxe.lang.Closure(this, "Split")) );
						}
						
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						break;
					}
					
					
					case 2055105:
					{
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						if (field.equals("Axis")) 
						{
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							__temp_executeDef1 = false;
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							return this.Axis;
						}
						
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						break;
					}
					
					
					case 204157642:
					{
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						if (field.equals("Partition")) 
						{
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							__temp_executeDef1 = false;
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							return ((haxe.lang.Function) (new haxe.lang.Closure(this, "Partition")) );
						}
						
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						break;
					}
					
					
					case 77292912:
					{
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						if (field.equals("Point")) 
						{
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							__temp_executeDef1 = false;
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							return this.Point;
						}
						
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						break;
					}
					
					
					case -2039002648:
					{
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						if (field.equals("PartitionScore")) 
						{
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							__temp_executeDef1 = false;
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							return ((haxe.lang.Function) (new haxe.lang.Closure(this, "PartitionScore")) );
						}
						
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						break;
					}
					
					
					case -1819700974:
					{
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						if (field.equals("Shapes")) 
						{
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							__temp_executeDef1 = false;
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							return this.Shapes;
						}
						
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						break;
					}
					
					
					case 186194641:
					{
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						if (field.equals("IntersectShapes")) 
						{
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							__temp_executeDef1 = false;
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							return ((haxe.lang.Function) (new haxe.lang.Closure(this, "IntersectShapes")) );
						}
						
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						break;
					}
					
					
					case 2364455:
					{
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						if (field.equals("Left")) 
						{
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							__temp_executeDef1 = false;
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							return this.Left;
						}
						
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						break;
					}
					
					
					case -1787984641:
					{
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						if (field.equals("Intersect")) 
						{
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							__temp_executeDef1 = false;
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							return ((haxe.lang.Function) (new haxe.lang.Closure(this, "Intersect")) );
						}
						
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						break;
					}
					
					
					case 78959100:
					{
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						if (field.equals("Right")) 
						{
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							__temp_executeDef1 = false;
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							return this.Right;
						}
						
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						break;
					}
					
					
					case -1480441762:
					{
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						if (field.equals("_clone")) 
						{
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							__temp_executeDef1 = false;
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							return ((haxe.lang.Function) (new haxe.lang.Closure(this, "_clone")) );
						}
						
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						break;
					}
					
					
				}
				
			}
			
			//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			if (__temp_executeDef1) 
			{
				//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				return super.__hx_getField(field, throwErrors, isCheck, handleProperties);
			}
			else
			{
				//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				throw null;
			}
			
		}
		
	}
	
	
	@Override public double __hx_getField_f(java.lang.String field, boolean throwErrors, boolean handleProperties)
	{
		//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		{
			//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			boolean __temp_executeDef1 = true;
			//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			if (( field != null )) 
			{
				//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				switch (field.hashCode())
				{
					case 77292912:
					{
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						if (field.equals("Point")) 
						{
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							__temp_executeDef1 = false;
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							return this.Point;
						}
						
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						break;
					}
					
					
					case 2055105:
					{
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						if (field.equals("Axis")) 
						{
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							__temp_executeDef1 = false;
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							return ((double) (this.Axis) );
						}
						
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						break;
					}
					
					
				}
				
			}
			
			//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			if (__temp_executeDef1) 
			{
				//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				return super.__hx_getField_f(field, throwErrors, handleProperties);
			}
			else
			{
				//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				throw null;
			}
			
		}
		
	}
	
	
	@Override public java.lang.Object __hx_invokeField(java.lang.String field, java.lang.Object[] dynargs)
	{
		//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		{
			//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			boolean __temp_executeDef1 = true;
			//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			if (( field != null )) 
			{
				//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				switch (field.hashCode())
				{
					case 80095994:
					{
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						if (field.equals("Split")) 
						{
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							__temp_executeDef1 = false;
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							this.Split(((int) (haxe.lang.Runtime.toInt(dynargs[0])) ));
						}
						
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						break;
					}
					
					
					case -1480441762:
					{
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						if (field.equals("_clone")) 
						{
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							__temp_executeDef1 = false;
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							return this._clone();
						}
						
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						break;
					}
					
					
					case 204157642:
					{
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						if (field.equals("Partition")) 
						{
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							__temp_executeDef1 = false;
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							return this.Partition(((int) (haxe.lang.Runtime.toInt(dynargs[0])) ), ((int) (haxe.lang.Runtime.toInt(dynargs[1])) ), ((double) (haxe.lang.Runtime.toDouble(dynargs[2])) ));
						}
						
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						break;
					}
					
					
					case -1787984641:
					{
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						if (field.equals("Intersect")) 
						{
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							__temp_executeDef1 = false;
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							return this.Intersect(((ln.Ray) (dynargs[0]) ), ((double) (haxe.lang.Runtime.toDouble(dynargs[1])) ), ((double) (haxe.lang.Runtime.toDouble(dynargs[2])) ));
						}
						
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						break;
					}
					
					
					case -2039002648:
					{
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						if (field.equals("PartitionScore")) 
						{
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							__temp_executeDef1 = false;
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							return this.PartitionScore(((int) (haxe.lang.Runtime.toInt(dynargs[0])) ), ((double) (haxe.lang.Runtime.toDouble(dynargs[1])) ));
						}
						
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						break;
					}
					
					
					case 186194641:
					{
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						if (field.equals("IntersectShapes")) 
						{
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							__temp_executeDef1 = false;
							//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
							return this.IntersectShapes(((ln.Ray) (dynargs[0]) ));
						}
						
						//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
						break;
					}
					
					
				}
				
			}
			
			//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
			if (__temp_executeDef1) 
			{
				//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
				return super.__hx_invokeField(field, dynargs);
			}
			
		}
		
		//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		return null;
	}
	
	
	@Override public void __hx_getFields(haxe.root.Array<java.lang.String> baseArr)
	{
		//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		baseArr.push("Right");
		//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		baseArr.push("Left");
		//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		baseArr.push("Shapes");
		//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		baseArr.push("Point");
		//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		baseArr.push("Axis");
		//line 7 "/Users/lingdonghuang/proj/LN.pde/ln/Node.hx"
		super.__hx_getFields(baseArr);
	}
	
	
}


